<style>
  .product-container {
    padding: 20px;
  }

  .product-image {
    height: 300px; /* Increase image height */
    margin-top: 20px;
    object-fit: cover;
  }
  .card {
    border: none;
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2) !important; /* Force shadow to apply */
  }

  .card:hover {
    transform: translateY(-10px);
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.3) !important; /* Force shadow on hover */
  }

  .card-title {
    font-weight: bold;
    color: #333;
  }

  .card-text {
    margin-bottom: 0.75rem;
  }

  .btn-primary {
    background-color: #007bff;
    border-color: #007bff;
  }

  .btn-primary:hover {
    background-color: #0056b3;
    border-color: #0056b3;
  }

  /* Custom mobile styles for smaller devices */
  @media (max-width: 576px) {
    .product-image {
      height: 300px; /* Reduce image height on mobile */
    }

    .card-body {
      padding: 15px; /* Reduce padding for better fit */
    }

    .card-title {
      font-size: 1.1rem; /* Adjust font size for mobile readability */
    }

    .card-text {
      font-size: 0.9rem;
    }
  }
</style>

<% layout('layouts/boilerplate') %>
<div class="product-container container my-2">
  <h1 class="text-center mb-4">All Products</h1>
  <div class="row">
    <% products.forEach(function(prd, index) { %>
    <!-- Create a new row for every fourth product -->
    <% if (index % 4 === 0 && index !== 0) { %>
  </div>
  <div class="row">
    <% } %>

    <div class="col-12 col-sm-6 col-md-3 mb-4">
      <!-- Adjusted to col-md-3 for 4 products per row -->
      <div class="card h-100 shadow-sm">
        <img
          src="<%= prd.image %>"
          alt="Product image"
          class="card-img-top product-image"
        />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-center"><%= prd.name %></h5>
          <p class="card-text">
            <strong>Price:</strong> &#8377; <%= prd.price %> / <%= prd.per %>
          </p>
          <p class="card-text">Quantity Left: <%= prd.qty %> <%= prd.per %></p>
          <form action="productdetails/<%= prd._id %>" class="mt-auto">
            <button type="submit" class="btn btn-primary w-100">
              View Details
            </button>
          </form>
        </div>
      </div>
    </div>
    <% }); %>
  </div>
</div>
